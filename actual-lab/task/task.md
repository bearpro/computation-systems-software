# Раздел 1. Задания

## Задание 1. Кодирование данных в телекоммуникационных сетях

### 1.1. Цель и краткая характеристика работы

**Цель работы**: изучение методов физического и логического кодирования, используемых в цифровых сетях передачи данных.

В процессе выполнения учебно-исследовательской работы (УИР) необходимо:

* выполнить физическое и логическое кодирование исходного сообщения в соответствии с заданными методами кодирования;
* провести сравнительный анализ рассмотренных методов кодирования и сформулировать достоинства и недостатки;
* рассчитать частотные характеристики сигналов, используемых для передачи исходного сообщения, и требуемую полосу пропускания канала связи;
* выбрать и обосновать наилучший метод для передачи исходного сообщения.

Ориентировочная трудоемкость выполнения задания:

* 2-х методов кодирования — 4 часа;
* 3-х методов кодирования — 5 часов;
* 4-х методов кодирования — 6 часов.

---

### 1.2. Теоретические сведения

#### 1.2.1. Цифровое кодирование

Цифровое кодирование дискретных данных осуществляется с использованием потенциальных или импульсных кодов. Для представления двоичных нулей и единиц в потенциальных кодах используются разные значения потенциала сигнала, а в импульсных кодах — импульсы разной полярности или перепады потенциала.

Качество передачи данных, а именно: надёжность и достоверность доставки, возможность обнаружения и исправления возникающих ошибок, стоимость реализации — существенно зависит от выбранного метода цифрового кодирования, который, в свою очередь, во многом определяет пропускную способность среды передачи.

**Требования к методам цифрового кодирования:**

* уменьшение спектра сигнала при одной и той же битовой скорости;
* поддержка синхронизации между передатчиком и приёмником сигналов за счёт наличия в передаваемых сигналах признаков для самосинхронизации;
* отсутствие постоянной составляющей в сигнале, сдвигающей спектр сигнала в область низких частот;
* возможность обнаружения ошибок и их исправления;
* низкая стоимость реализации метода кодирования (зависит от количества уровней сигнала).

Минимизация спектра результирующего сигнала позволяет при заданной полосе пропускания канала связи передавать больший объём данных за единицу времени. Это может быть реализовано, например, с помощью частотного мультиплексирования — организации нескольких логических каналов в одной и той же линии связи, что увеличивает скорость передачи данных.

В спектре сигнала должна отсутствовать постоянная составляющая (т.е. постоянный ток между передатчиком и приёмником). Это обусловлено применением в электрических линиях связи трансформаторных схем для гальванической развязки, препятствующей прохождению постоянного тока.

**Спектр результирующего сигнала зависит от:**

* метода кодирования и модуляции;
* скорости модуляции;
* состава передаваемых данных.

Для синхронизации передатчика и приёмника сигналов используются самосинхронизирующиеся методы кодирования, в которых синхронизация выполняется на основе любого резкого перепада сигнала (фронта сигнала).

Желательно, чтобы нижняя частота передаваемого сигнала отличалась от нуля. Это уменьшает спектр сигнала и не препятствует прохождению постоянного тока при наличии трансформаторных схем гальванической развязки.

**Желательные свойства методов цифрового кодирования:**

* возможность обнаружения и исправления ошибок;
* простота реализации (минимальное количество уровней сигнала).

**Взаимная противоречивость требований:** каждый метод кодирования обладает своими преимуществами и недостатками.

---

#### 1.2.2. Методы физического кодирования

На рисунке 1.1 представлены различные методы кодирования 19-разрядного двоичного сообщения `0101010000111101100` и рассмотрены основные достоинства и недостатки каждого из методов.

##### 1.2.2.1. Потенциальный код без возврата к нулю (NRZ)

* **NRZ (Non Return to Zero):** значению бита «1» соответствует высокий уровень потенциала, а «0» — низкий.
* **Верхняя граница частот:** определяется передачей чередующихся 0 и 1. Для NRZ: $f_{в} = C/2$.
* **Нижняя граница частот:** для длинных последовательностей нулей/единиц стремится к нулю.
* **Ширина спектра:** $S = f_{в} - f_{н} = C/2$.
* **Достоинства:** простота, низкая стоимость (2 уровня сигнала), малая ширина спектра.
* **Недостатки:** отсутствие самосинхронизации, невозможность использования при гальванических развязках.

##### 1.2.2.2. Биполярный импульсный код (RZ)

* **RZ (Return to Zero):** три уровня сигнала; единица — импульс одной полярности, ноль — другой. Каждый импульс длится половину битового интервала, в середине происходит возврат к нулю.
* **Достоинства:** самосинхронизация, отсутствие постоянной составляющей.
* **Недостатки:** требуется большая мощность передатчика, спектр шире, чем у NRZ.

##### 1.2.2.3. Биполярное кодирование с чередующейся инверсией (AMI)

* **AMI (Alternate Mark Inversion):** три уровня потенциала (положительный, нулевой, отрицательный). 0 — нулевой, 1 — положительный/отрицательный (чередование).
* **Достоинства:** отсутствие постоянной составляющей, синхронизация даже при длинных последовательностях единиц, спектр меньше, чем у RZ, возможность распознавать ошибочные сигналы.
* **Недостатки:** требуется большая мощность передатчика, при длинных последовательностях нулей появляется постоянная составляющая.

##### 1.2.2.4. Потенциальный код с инверсией при единице (NRZI)

* **NRZI (Non Return to Zero with ones Inverted):** два уровня сигнала; при нуле сохраняется уровень, при единице меняется на противоположный.
* **Достоинство:** два уровня сигнала (дешевле реализации, чем AMI).

##### 1.2.2.5. Манчестерский код

* **Манчестер:** два уровня сигнала, бит кодируется переходом в середине интервала: 1 — переход вниз, 0 — переход вверх.
* **Достоинства:** самосинхронизация, отсутствие постоянной составляющей, два уровня сигнала.
* **Недостаток:** более широкий спектр по сравнению с NRZ и AMI.

##### 1.2.2.6. Дифференциальный манчестерский код

* **Дифференциальный манчестер:** применяется в сетях Token Ring. 0 — изменение потенциала в начале интервала, 1 — сохранение предыдущего уровня. В середине интервала всегда происходит переход.
* **Преимущество:** устойчивость к инверсии сигнала.

##### 1.2.2.7. Код трехуровневой передачи MLT-3

В методе кодирования трёхуровневой передачи MLT-3 (Multi Level Transmission-3) двоичной «1» соответствует переход на границе битового интервала последовательно с одного уровня сигнала на другой, а при передаче «0» сигнал не меняется. При этом максимальная частота сигнала достигается при передаче длинной последовательности единиц, когда изменение сигнала происходит последовательно с одного уровня на другой с учётом предыдущего перехода.

К недостаткам этого метода кодирования относятся:

* отсутствие самосинхронизации;
* наличие трёх уровней сигнала;
* наличие в сигнале постоянной составляющей при передаче длинной последовательности нулей.


##### 1.2.2.8. Пятиуровневый код PAM-5

В пятиуровневом коде PAM-5 используется 5 уровней сигнала, причём четыре уровня кодируют два бита передаваемых данных: 00, 01, 10, 11. Таким образом, в одном битовом интервале передаются два бита. Пятый (средний) уровень добавлен для создания избыточности кода, используемого для исправления ошибок.

Основное достоинство метода PAM-5 состоит в том, что при одной той же скорости модуляции данные передаются в два раза быстрее по сравнению с AMI или NRZI.

К недостаткам метода относятся:

* наличие постоянной составляющей в сигнале при передаче длинных последовательностей одинаковых пар бит;
* наличие пяти уровней требует большей мощности передатчика, что значительно увеличивает стоимость реализации.


#### 1.2.3. Логическое кодирование

Используется для улучшения потенциальных кодов (AMI, NRZI, MLT-3) путём ликвидации длинных последовательностей одинаковых символов.

**Типы логического кодирования:**

* избыточное кодирование;
* скремблирование.

##### 1.2.3.1. Избыточное кодирование

* Исходный код представляется как последовательность битов, каждая из которых заменяется на новую, более длинную.
* Примеры: 4B/5B, 5B/6B, 8B/10B, 64B/66B.
* Например, 4B/5B: каждые 4 бита заменяются на 5 бит. Используется таблица перекодировки (см. ниже).

**Таблица перекодировки 4B/5B:**

| Исходные символы | Результирующие символы | Исходные символы | Результирующие символы |
| ---------------- | ---------------------- | ---------------- | ---------------------- |
| 0000             | 11110                  | 1000             | 10010                  |
| 0001             | 01001                  | 1001             | 10011                  |
| 0010             | 10100                  | 1010             | 10110                  |
| 0011             | 10101                  | 1011             | 10111                  |
| 0100             | 01010                  | 1100             | 11010                  |
| 0101             | 01011                  | 1101             | 11011                  |
| 0110             | 01110                  | 1110             | 11100                  |
| 0111             | 01111                  | 1111             | 11101                  |

**Достоинства:**

* самосинхронизация (нет длинных последовательностей одинаковых битов);
* отсутствие постоянной составляющей;
* возможность обнаружения ошибок за счёт запрещённых символов;
* простая реализация (таблица перекодировки).

**Недостатки:**

* уменьшается полезная пропускная способность;
* дополнительные временные затраты на кодирование/декодирование.

**Избыточность:** для 4B/5B — 25%.

##### 1.2.3.2. Скремблирование

Преобразование исходного кода по алгоритму, уменьшающему длину последовательностей одинаковых битов.

**Пример алгоритма:**

```
B_i = A_i ⊕ B_{i-3} ⊕ B_{i-5}
```

где ⊕ — операция XOR (исключающее ИЛИ).

**Достоинство:** сохраняется полезная пропускная способность.

**Недостатки:**

* затраты на реализацию;
* нет 100% гарантии устранения длинных последовательностей одинаковых битов.

---

### 1.3. Этапы выполнения работы и варианты заданий

#### Этап 1. Формирование сообщения

В качестве исходного сообщения используются фамилия и инициалы студента. Сообщение записывается в шестнадцатеричном и двоичном кодах по таблице 1.2.

**Пример:**

* Исходное сообщение: Ф.И.О.
* В шестнадцатеричном коде: D4 2E C8 2E CE 2E
* В двоичном коде: 11010100 00101110 11001000 00101110 11001110 00101110
* Длина сообщения: 6 байт (48 бит)

**Таблица 1.2. Кодировка символов:**

| Символ | Код | Символ | Код | Символ | Код | Символ | Код | Символ | Код |
| ------ | --- | ------ | --- | ------ | --- | ------ | --- | ------ | --- |
| А      | C0  | Р      | D0  | а      | E0  | р      | F0  | пробел | 20  |
| Б      | C1  | С      | D1  | б      | E1  | с      | F1  | ;      | 2C  |
| В      | C2  | Т      | D2  | в      | E2  | т      | F2  | .      | 2E  |
| Г      | C3  | У      | D3  | г      | E3  | у      | F3  | 0      | 30  |
| Д      | C4  | Ф      | D4  | д      | E4  | ф      | F4  | 1      | 31  |
| Е      | C5  | X      | D5  | е      | E5  | х      | F5  | 2      | 32  |
| Ж      | C6  | Ц      | D6  | ж      | E6  | ц      | F6  | 3      | 33  |
| З      | C7  | Ч      | D7  | з      | E7  | ч      | F7  | 4      | 34  |
| И      | C8  | Ш      | D8  | и      | E8  | ш      | F8  | 5      | 35  |
| Й      | C9  | Щ      | D9  | й      | E9  | щ      | F9  | 6      | 36  |
| К      | CA  | Ъ      | DA  | к      | EA  | ъ      | FA  | 7      | 37  |
| Л      | CB  | Ы      | DB  | л      | EB  | ы      | FB  | 8      | 38  |
| М      | CC  | Ь      | DC  | м      | EC  | ь      | FC  | 9      | 39  |
| Н      | CD  | Э      | DD  | н      | ED  | э      | FD  |        |     |
| О      | CE  | Ю      | DE  | о      | EE  | ю      | FE  |        |     |
| П      | CF  | Я      | DF  | п      | EF  | я      | FF  |        |     |

---

#### Этап 2. Физическое кодирование исходного сообщения

Выполнить кодирование исходного сообщения с использованием манчестерского кодирования и ещё двух/трёх/четырёх способов.

**Для каждого способа:**

* изобразить временные диаграммы первых четырёх байт;
* определить верхнюю и нижнюю границы частот, среднюю частоту, полосу пропускания (при пропускной способности 1 Гбит/с);
* провести сравнительный анализ и обосновать выбор двух лучших способов.

---

#### Этап 3. Логическое (избыточное) кодирование исходного сообщения

Выполнить логическое кодирование по методу 4B/5B. Записать результат в двоичном и шестнадцатеричном кодах.

* Определить длину нового сообщения и избыточность.
* Пример:

  * Двоичный код: 1101 1010 1010 1001 1100 1101 0100 1010 1001 1100 1101 0111 0010 1001 1100
  * Шестнадцатеричный код: DAA9CD4A9CD729C
  * Длина: 7,5 байт (60 бит)
  * Избыточность: 1,5/6 = 0,25 (25%)
* Для нового сообщения выполнить физическое кодирование двумя лучшими способами, изобразить временные диаграммы, рассчитать частоты и полосу пропускания.

---

#### Этап 4. Скремблирование исходного сообщения

Выбрать или предложить полином для скремблирования, обосновать выбор.

**Примеры полиномов:**

* $B_i = A_i \oplus B_{i-3} \oplus B_{i-5}$
* $B_i = A_i \oplus B_{i-5} \oplus B_{i-7}$

Выполнить скремблирование, записать результат в двоичном и шестнадцатеричном кодах, выполнить физическое кодирование двумя способами, изобразить временные диаграммы, рассчитать частоты и полосу пропускания.

---

#### Этап 5. Сравнительный анализ результатов кодирования

Провести сравнение результатов этапов 2, 3 и 4 в виде сводной таблицы.

---

### 1.4. Порядок выполнения работы

1. Ознакомиться с постановкой задачи и изучить необходимые теоретические сведения.
2. Сформировать исходное сообщение.
3. Выполнить физическое кодирование исходного сообщения не менее, чем тремя способами, включая обязательно манчестерское кодирование. Рассчитать частотные характеристики.
4. Выполнить логическое кодирование 4B/5B и скремблирование. Рассчитать частотные характеристики.
5. Сравнить способы и выбрать лучший.
6. Оформить и сдать отчёт.
7. Защитить задание.

---

### 1.5. Требования к содержанию отчёта

1. Краткая постановка задачи.
2. Исходное сообщение (шестнадцатеричный и двоичный вид, длина).
3. Временные диаграммы для способов физического код


ирования.
4\. Рассчитанные частоты и полоса пропускания для каждого способа.
5\. Сравнительный анализ методов (таблица, обоснование двух лучших способов).
6\. Результаты логического кодирования 4B/5B, длина и избыточность.
7\. Временные диаграммы и частотные характеристики для избыточного сообщения.
8\. Анализ и обоснование лучшего способа кодирования.
9\. Полином для скремблирования, описание процесса, результат (двоичный и шестнадцатеричный вид).
10\. Временные диаграммы и частотные характеристики для скремблированного сообщения.
11\. Итоговый анализ и выводы.
12\. Список литературы.

---

### 1.6. Контрольные вопросы для самопроверки

1. Что такое потенциальное кодирование?
2. При каком методе кодирования скорость модуляции (бод) и скорость передачи данных (бит в секунду) совпадают?
3. Как изменяется спектр сигнала при потенциальном кодировании, если в сообщении появляется длинная последовательность нулей или единиц?
4. В каком случае при потенциальном кодировании в спектре сигнала отсутствует постоянная составляющая?
5. Почему потенциальные коды на каналах тональной частоты не используются?
6. В чём отличие импульсных кодов от потенциальных?
7. Достоинства и недостатки методов NRZ, RZ, AMI, MLT-3, Манчестер.
8. Проиллюстрировать на диаграмме методы NRZ, RZ, AMI, MLT-3, Манчестер.
9. У какого метода верхняя граница частот минимальна?
10. Нарисовать диаграммы методов для сообщения, заданного в шестнадцатеричном коде: C5.
11. Определить частоту основной гармоники для сообщения (C5) при использовании методов NRZ, RZ, AMI, MLT-3, Манчестер.
12. Какой метод используется в Ethernet и Token Ring?
13. Перечислить методы логического кодирования.
14. Для чего используются методы логического кодирования?
15. Принципы избыточного кодирования и скремблирования.
16. Какой метод логического кодирования используется в Fast Ethernet и FDDI?
17. Принцип работы методов 4B/5B, 5B/6B, 8B/10B, 8B/6T.
18. Что такое "запрещённые коды" в методах избыточного кодирования?
19. Какой метод избыточного кодирования имеет наибольшую/наименьшую избыточность?
20. Сколько избыточных кодов в 4B/5B (5B/6B, 8B/10B, 8B/6T)?
21. Основной недостаток методов избыточного кодирования.
22. Что такое дескремблер?
